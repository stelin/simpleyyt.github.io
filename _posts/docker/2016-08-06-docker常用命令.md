---
layout: post
title:  "docker常用命令"
date:   2016-08-06
categories: [docker]
---

# docker常用命令

## docker version     

版本信息

## docker info    
系统信息包括镜像和容器数

## docker login      

```python
root@moon:~# docker login     
Username: username    
Password: ****     
Email: user@domain.com      
Login Succeeded
```
  
## docker images     
列出本地所有镜像
- -a 列出所有镜像（含过程镜像）；

- -f 过滤镜像，如： -f ['dangling=true'] 只列出满足
dangling=true 条件的镜像；
- -q 仅列出镜像ID。
- --tree 以树状结构列出镜像的所有提交历史。

## docker ps     
列出所有容器
- -a 列出所有容器（含沉睡镜像,未启动）；
- -f [exited=<int>] 列出满足
exited=<int> 条件的容器；
- -l 仅列出最新创建的一个容器；
- -q 仅列出容器ID；
- -s 显示容器大小。

## docker rmi
从本地删除镜像      

```python
docker rmi [options "o">] <image>  "o">[image...]       
docker rmi nginx:latest postgres:latest python:latest
```     
- -f 强行移除该镜像，即使其正被使用

## docker rm
从本地移除容器     

```python
docker rm [options "o">] <container>  "o">[container...]        
docker rm nginx-01 nginx-02 db-01 db-02        
sudo docker rm -l /webapp/redis 
```        
- -f 强行移除该容器，即使其正在运行；
- 
## docker history
查看指定镜像的历史提交记录      

```python
docker history  "o">[options] <image>  
```   

## docker start|stop|restart
启动、停止、重启一个或多个容器    

## docker export
将指定的容器保存成 tar 归档文件， docker import 的逆操作。导出后导入（exported-imported)）的容器会丢失所有的提交历史，无法回滚。      

```python
docker export <container>       
docker export nginx-01 > export.tar 
``` 
    
## docker import
从归档文件（支持远程文件）创建一个镜像， export 的逆操作，可为导入镜像打上标签。导出后导入（exported-imported)）的容器会丢失所有的提交历史，无法回滚。         

```python
docker import url|-  "o">[repository[:tag "o">]]          
cat export.tar  "p">| docker import - imported-nginx:latest      
docker import http://example.com/export.tar
```

## docker pull
从 Docker Hub 中拉取或者更新指定镜像。      

```python
docker pull [-a "o">] [user/ "o">]name[:tag "o">]           
docker pull laozhu/telescope:latest     
docker pull registry.domain.com:5000/repos:<tag_name>  
```    

## docker push

## docker inspect
json格式返回镜像信息     
docker inspect docker.camera360.com:5000/pinguoops/env:php5.3.28-dev








* 目录
{:toc #cntNav}















